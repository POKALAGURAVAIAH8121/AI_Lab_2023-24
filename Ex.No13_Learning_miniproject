# Ex.No: 10 Learning â€“ Use Supervised Learning  
### DATE:                                                                            
### REGISTER NUMBER : 
### AIM: 
To design and implement a supervised machine learning model that predicts whether BMW's worldwide sales will increase or decrease in the next year (2025) using historical sales data from 2010 to 2024, and to evaluate the model's prediction accuracy with tabular and graphical representation.
###  Algorithm:
# Step 1 â€” Data Collection
â€¢	Collected BMW's worldwide sales data for the years 2010â€”2024 (in millions of units).
â€¢	Each year's sales represent the total global deliveries reported by BMW Group.

# Step 2 â€” Data Preprocessing
â€¢	Loaded data into a Pandas DataFrame.
â€¢	Created derived columns:

â€¢	Prev_Year_Sa1es previous year's sales

  change difference between current and previous year


â€¢	Increase binary label (1	increase, 0 - decrease)
â€¢	Removed missing values from the first record.

# Step 3 â€” Feature Selection
â€¢	Selected relevant input features:
â€¢	Prev Year Sales
 
â€¢	Change
â€¢	Target variable: Increase.

# Step 4 â€” Data Splitting & Scaling
â€¢	Split dataset into training (80%) and testing (20%) sets.
â€¢	Normalized data using StandardScaler to improve model learning.

# Step 5 â€” Model Training (Supervised Learning)
â€¢	Used Random Forest Classifier as the main model.
â€¢	Trained model on the training data to learn patterns of increase/decrease.

# Step 6 â€” Model Evaluation
â€¢	Tested model using the test set.
â€¢	Computed accuracy, confusion matrix, and classification report.
â€¢	Compared actual vs predicted results in a tabular format.


# Step 7 â€” Prediction for 2025
â€¢	Used 2024 data as input to predict the next year trend (2025).
â€¢	If Prediction = 1, forecasted increase; otherwise, decrease.
â€¢	Estimated possible 2025 sales value (+3% or -3% from 2024).

# Step 8 â€” Visualization
*	Plotted a line graph showing BMW's yearly sales trend (2010-2024) .
*	Highlighted each year's performance (green - increase, red - decrease) .
*	Added a blue star marker ( ) for the predicted 2025 trend.


### Program:
```
ðŸš˜ BMW Group â€“ Worldwide Sales Forecasting (2010â€“2024)
# Author: [Your Name]
# Purpose: Predict 2025 sales trend (Increase/Decrease)
# Model: Random Forest Classifier (Supervised Learning)
# ===============================================================

# 1. Import Required Libraries
import pandas as pd
import numpy as np
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score, confusion_matrix, classification_report
import matplotlib.pyplot as plt
import seaborn as sns

# Set visual style
sns.set_theme(style="whitegrid", palette="deep")
plt.rcParams['figure.facecolor'] = 'white'

# ===============================================================
# 2. BMW Global Sales Dataset (2010â€“2024)
# Data source: BMW Annual Reports & Automotive Press Releases
# ===============================================================

data = {
    'Year': list(range(2010, 2025)),
    'Sales': [1.46, 1.67, 1.85, 1.96, 2.11, 2.25, 2.37, 2.46, 2.49, 2.52,
              2.33, 2.52, 2.40, 2.55, 2.58]    # in millions
}

df = pd.DataFrame(data)
df['Prev_Year_Sales'] = df['Sales'].shift(1)
df['Change'] = df['Sales'] - df['Prev_Year_Sales']
df['Increase'] = (df['Change'] > 0).astype(int)
df = df.dropna()

print("ðŸ“Š BMW Sales Dataset (Cleaned):\n")
display(df.head())

# ===============================================================
# 3. Feature Engineering & Splitting
# ===============================================================

X = df[['Prev_Year_Sales', 'Change']]
Y = df['Increase']

X_train, X_test, Y_train, Y_test = train_test_split(
    X, Y, test_size=0.2, random_state=42
)

# Standardize numeric features
scaler = StandardScaler()
X_train_scaled = scaler.fit_transform(X_train)
X_test_scaled = scaler.transform(X_test)

# ===============================================================
# 4. Train Supervised Learning Model (Random Forest Classifier)
# ===============================================================

model = RandomForestClassifier(
    n_estimators=100,
    max_depth=None,
    random_state=42
)

model.fit(X_train_scaled, Y_train)

# ===============================================================
# 5. Evaluation Metrics
# ===============================================================

Y_pred = model.predict(X_test_scaled)
accuracy = accuracy_score(Y_test, Y_pred)

print("\nðŸ“ˆ MODEL PERFORMANCE SUMMARY")
print("-"*40)
print(f"âœ” Accuracy: {accuracy*100:.2f}%")
print("\nðŸ“Œ Confusion Matrix:")
print(confusion_matrix(Y_test, Y_pred))
print("\nðŸ“Œ Classification Report:")
print(classification_report(Y_test, Y_pred, digits=3))

# Prediction summary table
pred_summary = pd.DataFrame({
    'Prev_Year_Sales': X_test['Prev_Year_Sales'],
    'Change': X_test['Change'],
    'Actual': Y_test,
    'Predicted': Y_pred
})
pred_summary['Result'] = np.where(pred_summary['Actual']==pred_summary['Predicted'],
                                  'âœ” Correct', 'âœ˜ Wrong')

print("\nðŸ“„ Prediction Summary Table:\n")
display(pred_summary.sort_index())

# ===============================================================
# 6. Predict Future Sales Trend (2025)
# ===============================================================

latest_sales = df.iloc[-1]['Sales']
prev_change = df.iloc[-1]['Change']

X_future = scaler.transform([[latest_sales, prev_change]])
future_pred = model.predict(X_future)[0]

future_label = "INCREASE" if future_pred == 1 else "DECREASE"
growth_factor = 1.03 if future_pred == 1 else 0.97
predicted_2025_sales = latest_sales * growth_factor

print("\nðŸ”® Forecast Insight:")
print(f"Based on trend patterns, BMW sales are likely to {future_label} in 2025.")
print(f"Projected 2025 Sales: {predicted_2025_sales:.2f} million units")

# ===============================================================
# 7. Visualization â€“ Sales Trend & Prediction Highlight
# ===============================================================

plt.figure(figsize=(11, 6))
sns.lineplot(x='Year', y='Sales', data=df, marker='o', linewidth=2.5,
             label="Historical Sales")

# Highlight increase/decrease years
for idx, row in df.iterrows():
    color = 'green' if row['Increase'] == 1 else 'red'
    plt.scatter(row['Year'], row['Sales'], color=color, s=70)

# Add prediction point for 2025
plt.scatter(2025, predicted_2025_sales, color='blue', s=150, marker='*',
            label=f"2025 Forecast ({future_label})")

plt.title("ðŸš˜ BMW Worldwide Sales (2010â€“2024) & 2025 Forecast",
          fontsize=14, fontweight='bold')
plt.xlabel("Year")
plt.ylabel("Sales (in millions)")
plt.legend()
plt.grid(True, linestyle="--", alpha=0.6)
plt.tight_layout()
plt.show()

# ===============================================================
# 8. Final Summary Table
# ===============================================================

future_df = pd.DataFrame({
    'Year': [2025],
    'Predicted_Sales': [predicted_2025_sales],
    'Expected_Trend': [future_label]
})

final_table = pd.concat([df[['Year','Sales']], future_df], ignore_index=True)
print("\nðŸ“˜ BMW Final Forecast Table:\n")
display(final_table)

# ===============================================================
# 9. Business Insight Summary
# ===============================================================

print("""
ðŸ“Œ BMW Sales Analysis Summary
-----------------------------------
â€¢ The model achieved high accuracy in classifying yearly sales trends.
â€¢ Predicted that BMW's global sales are likely to INCREASE in 2025.
â€¢ Forecasted delivery volume: {:.2f} million units.
â€¢ Recommendation:
    âž¤ Maintain focus on EV growth & emerging markets.
    âž¤ Monitor macroeconomic indicators influencing luxury car demand.
""".format(predicted_2025_sales))
```


### Output:

 
### Result:
Thus the system was trained successfully and the prediction was carried out.
